var ie=Object.defineProperty;var ce=(e,t,a)=>t in e?ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var Q=(e,t,a)=>ce(e,typeof t!="symbol"?t+"":t,a);import{j as s,A as le,a as g,m as D}from"./vendor-CcvdagZv.js";import{a as ae,u as de,b as ge,T as ue}from"./index-DDtZIve0.js";import{c as me}from"./imageHandlers-mTahlW39.js";const he={hidden:{opacity:0},visible:{opacity:1}},xe={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},fe=({isOpen:e,onClose:t,title:a,children:l,footer:o,size:r="md",showCloseButton:n=!0})=>{const u={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[r];return s.jsx(le,{mode:"wait",children:e&&s.jsxs(g.Fragment,{children:[s.jsx(D.div,{variants:he,initial:"hidden",animate:"visible",exit:"hidden",onClick:t,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40"}),s.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:s.jsxs(D.div,{variants:xe,initial:"hidden",animate:"visible",exit:"exit",className:`${u} w-full bg-white rounded-lg shadow-xl`,onClick:m=>m.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a}),n&&s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"px-6 py-4",children:l}),o&&s.jsx("div",{className:"px-6 py-4 border-t bg-gray-50 rounded-b-lg",children:o})]})})]})})};class ye{constructor(t=100){Q(this,"cache");Q(this,"maxSize");this.cache=new Map,this.maxSize=t}get(t){const a=this.cache.get(t);if(a){if(a.expiry&&Date.now()>a.expiry){this.cache.delete(t);return}return this.cache.delete(t),this.cache.set(t,a),a.value}}set(t,a,l=null){if(this.cache.size>=this.maxSize){const r=this.cache.keys().next().value;r&&this.cache.delete(r)}const o=l?Date.now()+l:null;this.cache.set(t,{value:a,expiry:o})}clear(){this.cache.clear()}}function k(e,t={}){const{maxCacheSize:a=100,ttl:l=null}=t,o=new ye(a),r=(...n)=>{const u=JSON.stringify(n),m=o.get(u);if(m!==void 0)return m;const h=e(...n);return h instanceof Promise?(o.set(u,h,l),h.then(p=>(o.set(u,p,l),p)).catch(p=>{throw o.get(u)===h&&o.set(u,void 0,0),p})):(o.set(u,h,l),h)};return r.clearCache=()=>{o.clear()},r}const be=()=>{const[e,t]=g.useState([]);g.useEffect(()=>{const i=()=>{const x=localStorage.getItem("admin_contents");x&&t(JSON.parse(x))};i();const d=x=>{x.key==="admin_contents"&&i()};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[]);const a=g.useMemo(()=>k(i=>i.filter(d=>d.type==="banner")),[]),l=g.useCallback(()=>{const i=a(e);if(i.length===0)return null;const d=i[i.length-1];return console.log("Retrieved banner image:",{id:d.id,imageUrl:d.imageUrl?d.imageUrl.substring(0,30)+"...":"none",title:d.title,scale:d.scale,displayText:d.displayText}),{id:d.id,src:d.imageUrl||"",alt:d.title,scale:d.scale||1,displayText:d.displayText}},[e,a]),o=g.useMemo(()=>k(i=>i.filter(d=>d.type==="scanner")),[]),r=g.useMemo(()=>k(i=>[...i].sort((d,x)=>x.updatedAt-d.updatedAt)),[]),n=g.useMemo(()=>k(i=>i.map(x=>{const I={id:x.id,src:x.imageUrl||"",alt:x.title||"Image",scale:x.scale||1,displayText:x.displayText||""};return console.log(`Transformed image ${x.id}:`,{src:I.src?I.src.substring(0,30)+"...":"none",scale:I.scale}),I})),[]),u=g.useCallback(()=>{const i=o(e),d=r(i);return console.log("Retrieved scanner images:",i.length),i.length>0&&console.log("First scanner image:",{id:i[0].id,imageUrl:i[0].imageUrl?i[0].imageUrl.substring(0,30)+"...":"none",title:i[0].title,scale:i[0].scale,displayText:i[0].displayText}),n(d)},[e,o,r,n]),m=g.useMemo(()=>k(i=>i.filter(d=>d.type==="template")),[]),h=g.useMemo(()=>k(i=>i.map(d=>({id:d.id,title:d.title,code:d.content}))),[]),p=g.useCallback(()=>{const i=m(e),d=r(i);return h(d)},[e,m,r,h]),b=g.useMemo(()=>k(i=>i.filter(d=>d.type==="question")),[]),f=g.useMemo(()=>k(i=>i.map(d=>({id:d.id,title:d.title,text:d.content}))),[]),y=g.useCallback(()=>{const i=b(e),d=r(i);return f(d)},[e,b,r,f]);return g.useMemo(()=>({getBannerImage:l,getScannerImages:u,getTemplates:p,getQuestions:y,hasContent:e.length>0}),[l,u,p,y,e.length])},pe=()=>{const{state:e}=ae(),{answers:t,sections:a,questions:l}=e,o=g.useMemo(()=>k(b=>b.filter(f=>f.isMandatory)),[]),r=g.useMemo(()=>k((b,f)=>b.find(y=>y.id===f)),[]),n=g.useMemo(()=>k((b,f)=>b.find(y=>y.id===f)),[]),u=g.useCallback((b,f,y)=>{const j=new RegExp(`{{\\s*${f}\\s*}}`,"g");return b.replace(j,y)},[]),m=g.useCallback(b=>{let f="";const y=new Set;return b.forEach(j=>{f+=`// --- Section: ${j.title} (Mandatory) ---
`,f+=j.code+`

`,y.add(j.id)}),{code:f,includedIds:y}},[]),h=g.useCallback((b,f,y,j)=>{let i="";return Object.entries(b).forEach(([d,x])=>{const I=r(f,d);if(!I)return;let N;if(I.type==="choice"&&x?(Array.isArray(x)?x:[x]).forEach(w=>{var T;const M=(T=I.options)==null?void 0:T.find(A=>A.value===w);M!=null&&M.linkedSectionId&&(N=M.linkedSectionId)}):(I.type==="text"||I.type==="boolean")&&I.linkedSectionId&&(N=I.linkedSectionId),N&&!j.has(N)){const B=n(y,N);if(B){let w=B.code;I.type==="text"&&I.placeholderVariable&&typeof x=="string"&&(w=u(w,I.placeholderVariable,x)),i+=`// --- Section: ${B.title} (Linked by: ${I.text.substring(0,20)}...) ---
`,i+=w+`

`,j.add(B.id)}}else I.type==="text"&&I.placeholderVariable&&typeof x=="string"&&!N&&(i+=`// User input for "${I.text.substring(0,20)}...": ${x}

`)}),i},[r,n,u]),p=g.useMemo(()=>{const b=o(a),{code:f,includedIds:y}=m(b),j=h(t,l,a,y);return(f+j).trim()||"// No code generated yet. Answer questions or mark sections as mandatory."},[t,a,l,o,m,h]);return s.jsxs("div",{className:"sticky top-4 h-[calc(100vh-2rem)] overflow-hidden rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Live Code Preview"})}),s.jsx("pre",{className:"p-4 overflow-auto h-[calc(100%-41px)] bg-white dark:bg-gray-900 text-sm text-gray-800 dark:text-gray-200 font-mono",children:s.jsx("code",{children:p})})]})},Ie=()=>{const[e,t]=g.useState(()=>{const r=localStorage.getItem("admin_questions");return r?JSON.parse(r):[]});return g.useEffect(()=>{localStorage.setItem("admin_questions",JSON.stringify(e))},[e]),g.useEffect(()=>()=>{e.forEach(r=>{var n;(n=r.options)==null||n.forEach(u=>{u.imagePreview&&me(u.imagePreview)})})},[e]),{questions:e,setQuestions:t,addQuestion:r=>{const n={id:`question-${Date.now()}`,type:r,text:"",required:!1,...r==="choice"&&{options:[]},...r==="text"&&{placeholderVariable:""}};t(u=>[...u,n])},updateQuestion:(r,n)=>{t(u=>u.map(m=>m.id===r?{...m,...n}:m))},deleteQuestion:r=>{t(n=>n.filter(u=>u.id!==r))}}},je=()=>{const[e,t]=g.useState(()=>{const n=localStorage.getItem("admin_sections");return n?JSON.parse(n):[]});return g.useEffect(()=>{localStorage.setItem("admin_sections",JSON.stringify(e))},[e]),{sections:e,setSections:t,addSection:()=>{const n={id:`section-${Date.now()}`,title:"New Section",code:"",isMandatory:!1};t(u=>[...u,n])},updateSection:(n,u)=>{t(m=>m.map(h=>h.id===n?{...h,...u}:h))},deleteSection:n=>{t(u=>u.filter(m=>m.id!==n))},reorderSections:n=>{t(n)}}},J=(e,t)=>t.some(a=>e instanceof a);let H,X;function ve(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function we(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K=new WeakMap,U=new WeakMap,F=new WeakMap;function Se(e){const t=new Promise((a,l)=>{const o=()=>{e.removeEventListener("success",r),e.removeEventListener("error",n)},r=()=>{a(E(e.result)),o()},n=()=>{l(e.error),o()};e.addEventListener("success",r),e.addEventListener("error",n)});return F.set(t,e),t}function ke(e){if(K.has(e))return;const t=new Promise((a,l)=>{const o=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",n),e.removeEventListener("abort",n)},r=()=>{a(),o()},n=()=>{l(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",r),e.addEventListener("error",n),e.addEventListener("abort",n)});K.set(e,t)}let Y={get(e,t,a){if(e instanceof IDBTransaction){if(t==="done")return K.get(e);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return E(e[t])},set(e,t,a){return e[t]=a,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function se(e){Y=e(Y)}function Ne(e){return we().includes(e)?function(...t){return e.apply(q(this),t),E(this.request)}:function(...t){return E(e.apply(q(this),t))}}function Ce(e){return typeof e=="function"?Ne(e):(e instanceof IDBTransaction&&ke(e),J(e,ve())?new Proxy(e,Y):e)}function E(e){if(e instanceof IDBRequest)return Se(e);if(U.has(e))return U.get(e);const t=Ce(e);return t!==e&&(U.set(e,t),F.set(t,e)),t}const q=e=>F.get(e);function De(e,t,{blocked:a,upgrade:l,blocking:o,terminated:r}={}){const n=indexedDB.open(e,t),u=E(n);return l&&n.addEventListener("upgradeneeded",m=>{l(E(n.result),m.oldVersion,m.newVersion,E(n.transaction),m)}),a&&n.addEventListener("blocked",m=>a(m.oldVersion,m.newVersion,m)),u.then(m=>{r&&m.addEventListener("close",()=>r()),o&&m.addEventListener("versionchange",h=>o(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const Be=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],V=new Map;function Z(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(V.get(t))return V.get(t);const a=t.replace(/FromIndex$/,""),l=t!==a,o=Ee.includes(a);if(!(a in(l?IDBIndex:IDBObjectStore).prototype)||!(o||Be.includes(a)))return;const r=async function(n,...u){const m=this.transaction(n,o?"readwrite":"readonly");let h=m.store;return l&&(h=h.index(u.shift())),(await Promise.all([h[a](...u),o&&m.done]))[0]};return V.set(t,r),r}se(e=>({...e,get:(t,a,l)=>Z(t,a)||e.get(t,a,l),has:(t,a)=>!!Z(t,a)||e.has(t,a)}));const Me=["continue","continuePrimaryKey","advance"],ee={},G=new WeakMap,ne=new WeakMap,Te={get(e,t){if(!Me.includes(t))return e[t];let a=ee[t];return a||(a=ee[t]=function(...l){G.set(this,ne.get(this)[t](...l))}),a}};async function*Pe(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const a=new Proxy(t,Te);for(ne.set(a,t),F.set(a,q(t));t;)yield a,t=await(G.get(a)||t.continue()),G.delete(a)}function te(e,t){return t===Symbol.asyncIterator&&J(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&J(e,[IDBIndex,IDBObjectStore])}se(e=>({...e,get(t,a,l){return te(t,a)?Pe:e.get(t,a,l)},has(t,a){return te(t,a)||e.has(t,a)}}));const $e="ImageStore",C="images",Oe=1;let _=null;const O=async()=>(_||(_=De($e,Oe,{upgrade(e){e.objectStoreNames.contains(C)||(e.createObjectStore(C),console.log(`[IndexedDB] Object store "${C}" created.`))}}),console.log("[IndexedDB] Database connection initialized.")),_),Le=()=>({addImage:async(o,r)=>{try{await(await O()).put(C,r,o),console.log(`[IndexedDB] Image added/updated with ID: ${o}`)}catch(n){throw console.error(`[IndexedDB] Failed to add/update image ${o}:`,n),n}},getImage:async o=>{try{const n=await(await O()).get(C,o);return console.log(`[IndexedDB] Image retrieved for ID: ${o}, Data found: ${!!n}`),n}catch(r){console.error(`[IndexedDB] Failed to get image ${o}:`,r);return}},deleteImage:async o=>{try{await(await O()).delete(C,o),console.log(`[IndexedDB] Image deleted with ID: ${o}`)}catch(r){console.error(`[IndexedDB] Failed to delete image ${o}:`,r)}},clearStore:async()=>{try{await(await O()).clear(C),console.log(`[IndexedDB] Store "${C}" cleared.`)}catch(o){console.error(`[IndexedDB] Failed to clear store "${C}":`,o)}}});O().catch(e=>console.error("[IndexedDB] Failed to initialize database:",e));const Fe=()=>{const{getImage:e}=Le(),[t,a]=g.useState({}),[l,o]=g.useState(!0),[r,n]=g.useState(null),u=()=>{try{const h=localStorage.getItem("admin_contents");return h?JSON.parse(h):[]}catch(h){return console.error("Failed to load content metadata:",h),[]}};return g.useEffect(()=>{(async()=>{o(!0),n(null);try{const b=u().filter(i=>i.type==="banner"||i.type==="scanner").map(i=>i.imageId).filter(Boolean);console.log("[ImageBridge] Loading images:",b);const f=b.map(async i=>{if(!i)return null;try{const d=await e(i);return d?{imageId:i,imageData:d}:(console.warn(`[ImageBridge] Image not found: ${i}`),null)}catch(d){return console.error(`[ImageBridge] Failed to load image ${i}:`,d),null}}),y=await Promise.all(f),j={};y.forEach(i=>{i&&(j[i.imageId]=i.imageData)}),a(j),console.log("[ImageBridge] Images loaded:",Object.keys(j).length)}catch(p){console.error("[ImageBridge] Failed to load images:",p),n("Failed to load images")}finally{o(!1)}})()},[e]),{imageCache:t,loading:l,error:r,getImageForContent:h=>{if(!h.imageId)return console.warn("[ImageBridge] Content has no imageId:",h.id),null;const p=t[h.imageId];return p||(console.warn("[ImageBridge] Image not found in cache:",h.imageId),null)}}},re=({label:e,error:t,helperText:a,required:l,children:o,fullWidth:r=!1})=>s.jsxs("div",{className:`${r?"w-full":""} space-y-1`,children:[e&&s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,l&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("div",{className:"mt-1",children:o}),(t||a)&&s.jsx("div",{className:"mt-1",children:t?s.jsx(D.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-600",children:t}):a?s.jsx("p",{className:"text-sm text-gray-500",children:a}):null})]}),Ae=({label:e,error:t,helperText:a,required:l,fullWidth:o,...r})=>s.jsx(re,{label:e,error:t,helperText:a,required:l,fullWidth:o,children:s.jsx("input",{className:`
          block rounded-md shadow-sm
          ${o?"w-full":"w-auto"}
          ${t?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}
          disabled:bg-gray-50 disabled:text-gray-500
        `,...r})}),ze=({label:e,error:t,helperText:a,required:l,...o})=>s.jsx(re,{error:t,helperText:a,required:l,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",className:`
            rounded border-gray-300 text-blue-600 shadow-sm
            focus:border-blue-300 focus:ring focus:ring-offset-0 focus:ring-blue-200 focus:ring-opacity-50
            ${t?"border-red-500":""}
          `,...o}),e&&s.jsxs("label",{className:"ml-2 block text-sm text-gray-900",children:[e,l&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]})}),R=({src:e,alt:t,scale:a=1,className:l="",style:o={}})=>{const[r,n]=g.useState(""),[u,m]=g.useState(!0),[h,p]=g.useState(null);g.useEffect(()=>{if(m(!0),p(null),!e){p("No image source provided"),m(!1);return}try{e.startsWith("http")||e.startsWith("data:")||e.startsWith("blob:")?(n(e),m(!1)):(e.startsWith("/9j/")||e.startsWith("iVBOR")?n(`data:image/jpeg;base64,${e}`):n(e),m(!1))}catch(f){console.error("Error setting image source:",f),p("Failed to load image"),m(!1)}},[e]);const b={...o,transform:`scale(${a})`,transformOrigin:"center center"};return u?s.jsx("div",{className:`flex items-center justify-center bg-gray-100 dark:bg-gray-700 ${l}`,children:s.jsx("div",{className:"animate-pulse text-gray-400 dark:text-gray-500",children:"Loading..."})}):h?s.jsx("div",{className:`flex items-center justify-center bg-gray-100 dark:bg-gray-700 ${l}`,children:s.jsx("div",{className:"text-red-500",children:h})}):s.jsx("img",{src:r,alt:t,className:l,style:b,onError:()=>{console.error("Image failed to load:",e),p("Failed to load image")}})},We={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{staggerChildren:.1}}},L={initial:{opacity:0,y:10},animate:{opacity:1,y:0}},Re=()=>{const{getBannerImage:e,getScannerImages:t}=be(),{imageCache:a,loading:l}=Fe();de();const{theme:o}=ge(),{state:r,dispatch:n}=ae(),{questions:u}=Ie(),{sections:m}=je(),[h,p]=g.useState(null),[b,f]=g.useState("");g.useEffect(()=>{n({type:"SET_QUESTIONS",payload:u})},[u,n]),g.useEffect(()=>{n({type:"SET_SECTIONS",payload:m})},[m,n]);const[y,j]=g.useState(null),[i,d]=g.useState(null),[x,I]=g.useState([]),[N,B]=g.useState({}),[w,M]=g.useState(1),T=6;g.useEffect(()=>{try{const c=e();j(c);const S=t();I(S),console.log("Content metadata loaded:",{bannerFound:!!c,scannerImagesCount:S.length})}catch(c){console.error("Error loading content metadata:",c),j(null),I([])}},[e,t]),g.useEffect(()=>{if(!l&&Object.keys(a).length>0){if(console.log("Image cache loaded:",Object.keys(a).length,"images"),y!=null&&y.id){const c=Object.keys(a).find(S=>S.startsWith("banner-"));c&&(d(a[c]),console.log("Banner image data found:",c))}if(x.length>0){const c={};Object.keys(a).filter(P=>P.startsWith("scanner-")).forEach((P,v)=>{v<x.length&&(c[x[v].id]=a[P])}),B(c),console.log("Scanner image data found:",Object.keys(c).length,"images")}}},[a,l,y,x]);const A=()=>{const c=(w-1)*T;return x.slice(c,c+T)},$=Math.ceil(x.length/T),z=c=>{M(c)},W=(c,S)=>{n({type:"SET_ANSWER",payload:{questionId:c,value:S}})},oe=c=>{var P;const S=r.answers[c.id];switch(c.type){case"text":return s.jsx(Ae,{label:c.text,value:S||"",onChange:v=>W(c.id,v.target.value),required:c.required,className:"text-gray-900 dark:text-white bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600"});case"choice":return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[c.text," ",c.required&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:(P=c.options)==null?void 0:P.map(v=>s.jsxs("label",{className:`
                    flex flex-col items-center p-4 border rounded-lg cursor-pointer
                    transition-all duration-150 ease-in-out
                    ${S===v.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 ring-2 ring-blue-500":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700"}
                  `,children:[s.jsx("input",{type:"radio",name:c.id,value:v.value,checked:S===v.value,onChange:()=>W(c.id,v.value),className:"sr-only"}),v.imageUrl&&s.jsx("img",{src:v.imagePreview||v.imageUrl,alt:v.text,className:"w-full h-32 object-contain mb-2 rounded",style:{transform:`scale(${v.scale||1})`}}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white text-center",children:v.text})]},v.id))})]});case"boolean":return s.jsx(ze,{label:c.text,checked:!!S,onChange:v=>W(c.id,v.target.checked),required:c.required});default:return null}};return s.jsx("div",{className:o==="dark"?"dark":"",children:s.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-200",children:[s.jsx(ue,{}),s.jsxs(D.div,{variants:We,initial:"initial",animate:"animate",className:"relative",children:[s.jsx(D.div,{variants:L,className:"py-12 px-4 text-center",children:s.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-gray-900 dark:text-white font-display tracking-tight",children:"COMET Scanner Template Wizard"})}),s.jsxs(D.div,{variants:L,className:"relative w-full mb-12 bg-gray-100 dark:bg-gray-800",children:[l&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800 bg-opacity-75 dark:bg-opacity-75 z-10",children:s.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-xl font-medium",children:"Loading images..."})}),i?s.jsx("div",{className:"relative w-full flex items-center justify-center overflow-hidden",children:s.jsx("div",{className:"w-full",style:{paddingBottom:"42.85%"},children:s.jsx(R,{src:i,alt:"COMET Scanner Banner",scale:(y==null?void 0:y.scale)||1,className:"absolute top-0 left-0 w-full h-full object-contain transition-transform duration-300"})})}):s.jsx("div",{className:"w-full",style:{paddingBottom:"42.85%"},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center",children:s.jsx("span",{className:"text-3xl text-white font-semibold",children:"Visualize Your Data with COMET Scanner"})})})]}),Object.keys(N).length>0&&s.jsxs(D.div,{variants:L,className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-8 text-center",children:"Scanner Variations"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:A().map(c=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:scale-105",onClick:()=>{p(N[c.id]||""),f(c.displayText||"Scanner Variation")},children:[s.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-700 relative overflow-hidden",children:s.jsx(R,{src:N[c.id]||"",alt:c.alt,scale:c.scale||1,className:"w-full h-full object-contain"})}),c.displayText&&s.jsx("div",{className:"p-4",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:c.displayText})})]},c.id))}),$>1&&s.jsx("div",{className:"flex justify-center mt-8",children:s.jsxs("nav",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>z(Math.max(1,w-1)),disabled:w===1,className:`px-3 py-1 rounded ${w===1?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-700 dark:text-gray-500":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:"Previous"}),Array.from({length:$},(c,S)=>S+1).map(c=>s.jsx("button",{onClick:()=>z(c),className:`w-8 h-8 rounded flex items-center justify-center ${c===w?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:c},c)),s.jsx("button",{onClick:()=>z(Math.min($,w+1)),disabled:w===$,className:`px-3 py-1 rounded ${w===$?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-700 dark:text-gray-500":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"}`,children:"Next"})]})})]}),s.jsxs("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-16 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-8",children:s.jsxs(D.div,{variants:L,children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Configure Your Template"}),s.jsxs("div",{className:"space-y-6",children:[r.questions.map(c=>s.jsx("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:oe(c)},c.id)),r.questions.length===0&&s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No questions configured yet. Please set them up in the Admin Dashboard."})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(pe,{})})]})]}),h&&s.jsx(fe,{isOpen:!0,onClose:()=>{p(null),f("")},title:b,size:"xl",children:s.jsx("div",{className:"relative",children:s.jsx("div",{className:"flex justify-center items-center bg-white dark:bg-gray-800 rounded-lg p-4",children:s.jsx(R,{src:h||"",alt:b,className:"max-w-full max-h-[80vh] object-contain"})})})})]})})};export{Re as default};
//# sourceMappingURL=ScannerWizard-BHX_CwmU.js.map
