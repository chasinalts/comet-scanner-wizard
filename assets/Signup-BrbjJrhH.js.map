{"version":3,"file":"Signup-BrbjJrhH.js","sources":["../../src/pages/Signup.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst containerVariants = {\n  initial: { opacity: 0, y: 20 },\n  animate: { opacity: 1, y: 0 },\n  exit: { opacity: 0, y: -20 }\n};\n\nconst Signup = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [isOwner, setIsOwner] = useState(false);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  \n  const { signup } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!username.trim() || !password.trim()) {\n      setError('Please fill in all fields');\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      setError('Passwords do not match');\n      return;\n    }\n\n    if (password.length < 6) {\n      setError('Password must be at least 6 characters long');\n      return;\n    }\n\n    try {\n      setError('');\n      setIsLoading(true);\n      await signup(username, password, isOwner);\n      navigate('/wizard/step1');\n    } catch (error) {\n      setError('Failed to create account. Username may already exist.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <motion.div\n      variants={containerVariants}\n      initial=\"initial\"\n      animate=\"animate\"\n      exit=\"exit\"\n      className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\"\n    >\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <h2 className=\"text-center text-3xl font-extrabold text-gray-900\">\n          Create your account\n        </h2>\n        <h3 className=\"mt-2 text-center text-xl text-gray-600\">\n          Join COMET Scanner Wizard\n        </h3>\n      </div>\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n          {error && (\n            <motion.div\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"rounded-md bg-red-50 p-4 mb-4\"\n            >\n              <div className=\"flex\">\n                <div className=\"flex-shrink-0\">\n                  <svg\n                    className=\"h-5 w-5 text-red-400\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth=\"2\"\n                      d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                    />\n                  </svg>\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-red-700\">{error}</p>\n                </div>\n              </div>\n            </motion.div>\n          )}\n\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\n            <div>\n              <label\n                htmlFor=\"username\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                Username\n              </label>\n              <div className=\"mt-1\">\n                <input\n                  id=\"username\"\n                  name=\"username\"\n                  type=\"text\"\n                  required\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                  className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label\n                htmlFor=\"password\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                Password\n              </label>\n              <div className=\"mt-1\">\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type=\"password\"\n                  required\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label\n                htmlFor=\"confirmPassword\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                Confirm Password\n              </label>\n              <div className=\"mt-1\">\n                <input\n                  id=\"confirmPassword\"\n                  name=\"confirmPassword\"\n                  type=\"password\"\n                  required\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex items-center\">\n              <input\n                id=\"isOwner\"\n                name=\"isOwner\"\n                type=\"checkbox\"\n                checked={isOwner}\n                onChange={(e) => setIsOwner(e.target.checked)}\n                className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n              />\n              <label\n                htmlFor=\"isOwner\"\n                className=\"ml-2 block text-sm text-gray-900\"\n              >\n                Register as Owner\n              </label>\n            </div>\n\n            <div>\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className={`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${\n                  isLoading\n                    ? 'bg-blue-400 cursor-not-allowed'\n                    : 'bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500'\n                }`}\n              >\n                {isLoading ? (\n                  <svg\n                    className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <circle\n                      className=\"opacity-25\"\n                      cx=\"12\"\n                      cy=\"12\"\n                      r=\"10\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"4\"\n                    />\n                    <path\n                      className=\"opacity-75\"\n                      fill=\"currentColor\"\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    />\n                  </svg>\n                ) : null}\n                {isLoading ? 'Creating account...' : 'Create account'}\n              </button>\n            </div>\n          </form>\n\n          <div className=\"mt-6\">\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <div className=\"w-full border-t border-gray-300\" />\n              </div>\n              <div className=\"relative flex justify-center text-sm\">\n                <span className=\"px-2 bg-white text-gray-500\">\n                  Already have an account?\n                </span>\n              </div>\n            </div>\n\n            <div className=\"mt-6 text-center\">\n              <Link\n                to=\"/login\"\n                className=\"text-blue-600 hover:text-blue-500 font-medium\"\n              >\n                Sign in instead\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default Signup;"],"names":["containerVariants","Signup","username","setUsername","useState","password","setPassword","confirmPassword","setConfirmPassword","isOwner","setIsOwner","error","setError","isLoading","setIsLoading","signup","useAuth","navigate","useNavigate","handleSubmit","e","jsxs","motion","jsx","Link"],"mappings":"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"}